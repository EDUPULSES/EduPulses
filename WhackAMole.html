<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Neural Whack: Reaction Test</title>
    <style>
        :root {
            --bg: #0f172a;
            --panel-bg: #1e293b;
            --accent: #facc15;
            --dirt: #451a03;
            --grass: #065f46;
            --text: #f8fafc;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: var(--bg); color: var(--text); 
            display: flex; justify-content: center; align-items: center; 
            height: 100vh; margin: 0; overflow: hidden;
        }

        /* Navigation */
        .home-link {
            position: absolute; top: 20px; left: 20px;
            text-decoration: none; color: var(--text); background: rgba(255,255,255,0.1);
            padding: 10px 20px; border-radius: 12px; border: 1px solid var(--accent);
            font-weight: bold; transition: 0.3s; z-index: 100;
        }
        .home-link:hover { background: var(--accent); color: #000; }

        .game-wrapper { display: flex; gap: 50px; align-items: center; }

        /* The Play Area */
        .hole-grid {
            display: grid; grid-template-columns: repeat(3, 130px);
            grid-template-rows: repeat(3, 130px); gap: 20px;
        }

        .hole {
            width: 130px; height: 130px; background: var(--dirt);
            border-radius: 50%; position: relative; overflow: hidden;
            border: 6px solid var(--grass); box-shadow: inset 0 10px 20px rgba(0,0,0,0.5);
        }

        .mole {
            width: 90px; height: 90px; background: #92400e;
            border-radius: 50% 50% 15% 15%; position: absolute;
            left: 20px; bottom: -100%; transition: bottom 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: crosshair; border: 3px solid #78350f;
        }

        .mole.up { bottom: 15px; }

        /* Mole Face Emoji */
        .mole::after {
            content: 'üêπ'; display: flex; justify-content: center; 
            align-items: center; height: 100%; font-size: 2.5rem;
        }

        /* Sidebar Stats */
        .sidebar {
            width: 240px; background: rgba(30, 41, 59, 0.8); padding: 30px;
            border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px); box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }

        .stat-label { font-size: 0.75rem; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { font-size: 2.2rem; font-weight: 900; color: var(--accent); margin-bottom: 15px; }

        select, button {
            width: 100%; padding: 14px; border: none; border-radius: 12px;
            margin-bottom: 12px; font-weight: bold; cursor: pointer; font-size: 1rem;
        }
        select { background: #0f172a; color: white; border: 1px solid var(--accent); outline: none; }
        button { background: var(--accent); color: #000; transition: 0.3s; }
        button:hover { transform: translateY(-3px); filter: brightness(1.1); }
        button:disabled { background: #475569; cursor: not-allowed; transform: none; }

    </style>
</head>
<body>

    <a href="index.html" class="home-link">üè† EXIT TO HOME</a>

    <div class="game-wrapper">
        <div class="hole-grid" id="grid">
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
            <div class="hole"><div class="mole"></div></div>
        </div>

        <div class="sidebar">
            <div class="stat-label">Neural Score</div>
            <div id="score" class="stat-value">0</div>
            
            <div class="stat-label">Time Remaining</div>
            <div id="time" class="stat-value">20s</div>

            <div class="stat-label">Speed Setting</div>
            <select id="speedLevel">
                <option value="1200">Level 1: Easy</option>
                <option value="800" selected>Level 2: Normal</option>
                <option value="500">Level 3: Expert</option>
                <option value="350">Level 4: Cyborg</option>
            </select>

            <button id="startBtn" onclick="startGame()">START MISSION</button>
            <p style="font-size: 0.8rem; color: #94a3b8; text-align: center; margin-top: 10px;">
                Hit the Hamster to gain +10 Points!
            </p>
        </div>
    </div>

    <script>
        const moles = document.querySelectorAll('.mole');
        const scoreBoard = document.querySelector('#score');
        const timeBoard = document.querySelector('#time');
        const speedSelect = document.querySelector('#speedLevel');
        const startBtn = document.querySelector('#startBtn');

        let lastHole;
        let timeUp = false;
        let score = 0;
        let countdown;
        let timeLeft = 20;

        function randomTime(min, max) {
            return Math.round(Math.random() * (max - min) + min);
        }

        function randomHole(moles) {
            const idx = Math.floor(Math.random() * moles.length);
            const hole = moles[idx];
            if (hole === lastHole) return randomHole(moles);
            lastHole = hole;
            return hole;
        }

        function peep() {
            const speed = parseInt(speedSelect.value);
            const time = randomTime(speed * 0.6, speed);
            const mole = randomHole(moles);
            mole.classList.add('up');
            setTimeout(() => {
                mole.classList.remove('up');
                if (!timeUp) peep();
            }, time);
        }

        function startGame() {
            score = 0;
            timeLeft = 20;
            timeUp = false;
            scoreBoard.textContent = 0;
            timeBoard.textContent = timeLeft + 's';
            startBtn.disabled = true;
            speedSelect.disabled = true;

            peep();
            
            countdown = setInterval(() => {
                timeLeft--;
                timeBoard.textContent = timeLeft + 's';
                if (timeLeft <= 0) {
                    clearInterval(countdown);
                    timeUp = true;
                    startBtn.disabled = false;
                    speedSelect.disabled = false;
                    alert('üß† GAME OVER! Your Neural Speed Score is: ' + score);
                }
            }, 1000);
        }

        function whack(e) {
            if(!e.isTrusted) return; // Anti-cheat
            score += 10;
            this.classList.remove('up');
            scoreBoard.textContent = score;
        }

        moles.forEach(mole => mole.addEventListener('click', whack));
    </script>
</body>
</html>